<!DOCTYPE html>
<html lang="en" ng-app="boatControl">
<head>
    <meta charset="UTF-8">
    <title>BoatControl</title>
    <script src="/vendor/socket.io-client/socket.io.js"></script>
    <script src="/vendor/angular/angular.min.js"></script>
    <script src="/vendor/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="/app/app.js"></script>

    <link rel="stylesheet" href="/vendor/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/vendor/bootstrap/dist/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="/app/app.css" />
</head>
<body ng-controller="BoatController">
    <div class="container">
        <ul class="logs">
           <li ng-repeat="message in messages|slice:-10">{{message.time|date:'HH:mm:ss'}} {{message.text}}</li>
        </ul>

        <!--<input class="input-control" ng-model="sendCommand" type="text" id="command" />-->
        <!--<input class="input-control" type="submit" value="Submit" ng-submit="submit(sendCommand)" />-->

        <hr/>
        <div id="controller">
            <div>
                <input ng-repeat="(buttonId, buttonData) in config.controller.buttons"
                       ng-mousedown="triggerEvent(buttonId + ':press')"
                       ng-mouseup="triggerEvent(buttonId + ':release')"
                       value="{{buttonId}}"
                       type="button"
                       class="input-control"
                />
            </div>
            <hr />
            <div ng-repeat="(joystickData, joystickId) in config.controller.joysticks">
                <h3>{{joystickId}}</h3>
                <input
                        ng-repeat="direction in ['x', 'y']"
                        ng-value="joystick[joystickId][direction]"
                        type="number"
                        min="255"
                        max="255"
                        class="input-control"
                />
            </div>
        </div>

        <table class="table table-striped table-border">
            <thead>
                <tr>
                    <th>Command</th>
                    <th>Controller</th>
                    <th>Pin</th>
                    <th>Akt. Wert</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="pin in config.config.pins" title="{{pin}}">
                    <td>{{pin.type}} {{pin.subType}}</td>
                    <td>{{pin.button}} {{pin.joystick}}</td>
                    <td>{{pin.pin}}</td>
                    <td>{{pins[pin.pin]}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
